<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 09 - Fusão de Imagens</title>
  <meta name="description" content="Capítulo 09 - Fusão de Imagens" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 09 - Fusão de Imagens" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 09 - Fusão de Imagens" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  var subtitles = document.querySelectorAll("h1 + .subtitle");
  subtitles.forEach(function(subtitle) {
    var h1 = subtitle.previousElementSibling;
    h1.insertAdjacentElement('afterend', subtitle);
  });
});
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path=""><a href="#capítulo-09---fusão-de-imagens"><i class="fa fa-check"></i><b>1</b> Capítulo 09 - Fusão de Imagens</a>
<ul>
<li class="chapter" data-level="1.1" data-path=""><a href="#introdução"><i class="fa fa-check"></i><b>1.1</b> Introdução</a></li>
<li class="chapter" data-level="1.2" data-path=""><a href="#fusão-de-imagens-em-r"><i class="fa fa-check"></i><b>1.2</b> Fusão de Imagens em R</a></li>
<li class="chapter" data-level="1.3" data-path=""><a href="#referências-bibliográficas"><i class="fa fa-check"></i><b>1.3</b> Referências Bibliográficas</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Capítulo 09 - Fusão de Imagens</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Capítulo 09 - Fusão de Imagens</h1>
<h2 class="subtitle"><em>Processamento Digital de Imagens Orbitais</em></h2>
</div>
<div id="capítulo-09---fusão-de-imagens" class="section level1 hasAnchor" number="1" style="text-align: justify;">
<h1><span class="header-section-number">1</span> Capítulo 09 - Fusão de Imagens<a href="#capítulo-09---fusão-de-imagens" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Ref.: Cap 08, item: 8.5. Fusão de imagens - MENESES, P. R.; ALMEIDA, T. D.; ROSA, A. N. D. C. S.; SANO, E. E. et al. Introdução ao Processamento de Imagens de Sensoriamento Remoto. Brasília: UnB-CNPq, 276 p., 2012.</p>
<div id="introdução" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Introdução<a href="#introdução" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A fusão de imagens orbitais é um processo no qual várias imagens obtidas por diferentes sensores ou plataformas orbitais são combinadas para criar uma única imagem que contenha informações mais completas e de maior qualidade do que as imagens originais separadas. Essa técnica é frequentemente usada em sensoriamento remoto para melhorar a resolução espacial, espectral ou temporal das imagens, permitindo uma análise mais precisa e abrangente da área de interesse.</p>
<p>Existem diferentes métodos de fusão de imagens orbitais, como fusão baseada em pixel, fusão baseada em objeto e fusão baseada em área. Cada método tem suas próprias vantagens e é escolhido com base nas características das imagens originais e nos objetivos da análise.</p>
<p>Na prática, a fusão de imagens orbitais pode ser utilizada em uma variedade de aplicações, incluindo monitoramento ambiental, agricultura de precisão, planejamento urbano, detecção de mudanças na cobertura terrestre, entre outros. Ela desempenha um papel importante na obtenção de informações detalhadas e abrangentes sobre a superfície terrestre a partir de dados de sensoriamento remoto.</p>
<p>É possível realizar o processo de fusão de imagens orbitais no RStudio. O R oferece várias bibliotecas e pacotes especializados em processamento de imagens, sensoriamento remoto e análise espacial, que podem ser utilizados para realizar a fusão de imagens orbitais. Alguns dos pacotes populares para processamento de imagens e sensoriamento remoto no R incluem:</p>
<ul>
<li>raster: Este pacote fornece classes e métodos para trabalhar com dados raster, incluindo a leitura, manipulação e análise de imagens raster.</li>
<li>rgdal: Este pacote fornece funções para leitura e escrita de dados geoespaciais em vários formatos, como shapefiles e geotiff, que são comumente usados em sensoriamento remoto.</li>
<li>rgeos: Este pacote fornece funções para realizar operações geométricas em objetos espaciais, o que pode ser útil para processar e analisar imagens raster.</li>
<li>landsat: Este pacote específico é voltado para o processamento de dados Landsat, uma série de satélites que coletam imagens da Terra em várias bandas espectrais. Ele fornece funções para baixar, pré-processar e analisar dados Landsat.</li>
</ul>
<p>Além desses pacotes, há outros disponíveis que podem ser úteis dependendo das necessidades específicas do projeto. Com essas ferramentas, é possível carregar, manipular, processar e fusionar imagens orbitais diretamente no ambiente RStudio, permitindo uma análise completa dentro do mesmo ambiente de programação. Além das imagens que baixamos e cortamos, alguns outros elementos podem ser úteis para o processo de fusão:</p>
<ul>
<li>Conhecimento das características das imagens: É importante entender as características das imagens que estamos trabalhando, como resolução espacial, número de bandas espectrais, sistema de coordenadas de referência, entre outros. Isso nos ajudará na escolha do método de fusão mais adequado e na interpretação dos resultados.</li>
<li>Conhecimento sobre métodos de fusão: Existem vários métodos de fusão de imagens orbitais, cada um com suas vantagens e limitações. É útil ter familiaridade com esses métodos para escolher o mais adequado para o nosso caso específico.</li>
<li>Pacotes R para processamento de imagens: é importante ter os pacotes R adequados instalados para trabalharmos com imagens raster e realizarmos o processamento necessário para a fusão das imagens.</li>
<li>Capacidade de manipulação e análise de dados no R: É útil termos conhecimento em programação em R para manipular e analisar os dados das imagens, realizar operações como reamostragem, ajuste de contraste, composição de cores, entre outras.</li>
</ul>
<p>Além desses elementos, dependendo dos detalhes do projeto e das características das imagens, pode ser necessário adquirir ou gerar dados adicionais, como dados de referência para registro e correção geométrica das imagens, máscaras de nuvens para remoção de nuvens, entre outros.</p>
</div>
<div id="fusão-de-imagens-em-r" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Fusão de Imagens em R<a href="#fusão-de-imagens-em-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Na aula de hoje iremos precisar dos pacotes a seguir. Então, antes de iniciar, realizem a instalação dos pocotes e o carregamento dos mesmos, como instruído no código a seguir.</p>
<p>Antes de darmos início ao trabalho, vamos conferir se estamos trabalhando no diretório correto (pasta de trabalho).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co">#conferindo o diretório de trabalho</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<pre><code>## [1] &quot;C:/ARQUIVOS COMPUTADOR/DOUTORADO/EBOOK PROCESSAMENTO DIGITAL DE IMAGENS&quot;</code></pre>
<p>Com os pacotes instalados e carregados, vamos carregar as imagem orbitais para prática de hoje, referente a uma área de interesse recortada no MultiSpec. As imagens orbitais que utilizaremos hoje são provenientes da base de dados do INPE. Uma delas é uma imagem pancromática (PAN) e as outras quatro são MUX (quatro bandas diferentes). Como apresentado na introdução, a imagem PAN possui uma resolução espacial mais próxima da realidade territorial comparada às imagens MUX. Com isso, tentaremos melhorar a resoulação das imagens MUX através do processo de fusão de imagem, utilizando a imagem PAN para realizar tal procedimento. Nosso primeiro passo será carregar as imagens utilizando a função <em>raster()</em>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co">#Carregamento da imagem orbital pancromática (PAN)</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>franca_pan <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;franca_pan_banda4.tif&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">plot</span>(franca_pan, <span class="at">col =</span> <span class="fu">gray.colors</span>(<span class="dv">256</span>), <span class="at">main =</span> <span class="st">&quot;Franca PAN&quot;</span>)</span></code></pre></div>
<p><img src="cap09_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co">#Carregamento das imagens orbitais MUX</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>franca_mux_banda5 <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;franca_mux_banda5.tif&quot;</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>franca_mux_banda6 <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;franca_mux_banda6.tif&quot;</span>)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>franca_mux_banda7 <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;franca_mux_banda7.tif&quot;</span>)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>franca_mux_banda8 <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;franca_mux_banda8.tif&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="fu">plot</span>(franca_mux_banda5,  <span class="at">col =</span> <span class="fu">gray.colors</span>(<span class="dv">256</span>), <span class="at">main =</span> <span class="st">&quot;Franca MUX banda 5&quot;</span>)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="fu">plot</span>(franca_mux_banda6,  <span class="at">col =</span> <span class="fu">gray.colors</span>(<span class="dv">256</span>), <span class="at">main =</span> <span class="st">&quot;Franca MUX banda 6&quot;</span>)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="fu">plot</span>(franca_mux_banda7,  <span class="at">col =</span> <span class="fu">gray.colors</span>(<span class="dv">256</span>), <span class="at">main =</span> <span class="st">&quot;Franca MUX banda 7&quot;</span>)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="fu">plot</span>(franca_mux_banda8, <span class="at">col =</span> <span class="fu">gray.colors</span>(<span class="dv">256</span>), <span class="at">main =</span> <span class="st">&quot;Franca MUX banda 8&quot;</span>)</span></code></pre></div>
<p><img src="cap09_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Carregadas as imagens PAN e MUX, vamos conferir se todas elas estão no mesmo sistema de coordenadas (CRS), de modo a agilizar nosso processamento e sem ter que realizar as correções geométricas para as próximas análises.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Verificar e comparar o CRS das imagens</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">identical</span>(<span class="fu">crs</span>(franca_pan), <span class="fu">crs</span>(franca_mux_banda5)) <span class="sc">&amp;&amp;</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>    <span class="fu">identical</span>(<span class="fu">crs</span>(franca_pan), <span class="fu">crs</span>(franca_mux_banda6)) <span class="sc">&amp;&amp;</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>    <span class="fu">identical</span>(<span class="fu">crs</span>(franca_pan), <span class="fu">crs</span>(franca_mux_banda7)) <span class="sc">&amp;&amp;</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>    <span class="fu">identical</span>(<span class="fu">crs</span>(franca_pan), <span class="fu">crs</span>(franca_mux_banda8))) {</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>  </span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Todas as imagens estão no mesmo sistema de referência de coordenadas (CRS).</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  </span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;As imagens não estão no mesmo sistema de referência de coordenadas (CRS). Verifique e corrija, se necessário.</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Todas as imagens estão no mesmo sistema de referência de coordenadas (CRS).</code></pre>
<p>Confirmamos aqui que as imagens possuem o mesmo sistema de referência (crs), indicando que não é necessária a correção geométrica neste caso. Entretanto, devemos ainda confirmar se as imagens possuem mesma dimensão e resolução. É esperado que as resoluções sejam diferentes entre as imagens MUX e a imagem PAN, pois, é justamente aqui que se aplica a fusão de imagem para melhorar a resolução espacial da imagem.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Verificar dimensões e resolução da banda PAN</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">dim</span>(franca_pan))</span></code></pre></div>
<pre><code>## [1] 1762 1882    1</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">res</span>(franca_pan))</span></code></pre></div>
<pre><code>## [1] 10 10</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Verificar dimensões e resolução das bandas MUX</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">dim</span>(franca_mux_banda5))</span></code></pre></div>
<pre><code>## [1] 881 942   1</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">res</span>(franca_mux_banda5))</span></code></pre></div>
<pre><code>## [1] 20 20</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">dim</span>(franca_mux_banda6))</span></code></pre></div>
<pre><code>## [1] 881 942   1</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">res</span>(franca_mux_banda6))</span></code></pre></div>
<pre><code>## [1] 20 20</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">dim</span>(franca_mux_banda7))</span></code></pre></div>
<pre><code>## [1] 881 942   1</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">res</span>(franca_mux_banda7))</span></code></pre></div>
<pre><code>## [1] 20 20</code></pre>
<p>Constatamos que as dimensões e resoluções das imagens MUX são menores frente à imagem PAN. Para tanto, vamos realizar o redimensionamento das imagens MUX a seguir, de modo que todas possuam a mesma dimensão. Destaca-se que não alteraremos a resolução por hora, tendo em vista que este procedimento integra o procedimento de fusão de imagens.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="co"># Redimensionar as imagens MUX para corresponder à dimensão e resolução da imagem PAN</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>franca_mux_banda5_resized <span class="ot">&lt;-</span> <span class="fu">projectRaster</span>(franca_mux_banda5, franca_pan)</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>franca_mux_banda6_resized <span class="ot">&lt;-</span> <span class="fu">projectRaster</span>(franca_mux_banda6, franca_pan)</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>franca_mux_banda7_resized <span class="ot">&lt;-</span> <span class="fu">projectRaster</span>(franca_mux_banda7, franca_pan)</span></code></pre></div>
<p>Vamos prosseguir com a fusão das imagens usando o método IHS. Neste método, a imagem pancromática (PAN) será utilizada para substituir a componente de intensidade (I) da imagem colorida (RGB), mantendo as componentes de matiz (hue - H) e saturação (saturation - S) das imagens MUX. O código a seguir mostra como realizar a fusão usando o método IHS.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># Transformação das bandas selecionadas para o espaço IHS</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>franca_mux_ihs <span class="ot">&lt;-</span> <span class="fu">stack</span>(franca_mux_banda5_resized, franca_mux_banda6_resized, franca_mux_banda7_resized)</span></code></pre></div>
<p>Esta linha cria uma pilha de camadas raster (RasterStack) contendo as três bandas selecionadas do sensor MUX. Essas bandas são empilhadas para formar uma única estrutura de dados onde cada camada representa uma banda diferente. A seguir vamos sobrepor as camadas MUX (bandas 5, 6 e 7) e visualizar a imagem combinada.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="co"># Sobrepor as camadas raster</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>overlayed_mux <span class="ot">&lt;-</span> <span class="fu">overlay</span>(franca_mux_banda5_resized, franca_mux_banda6_resized, franca_mux_banda7_resized, <span class="at">fun =</span> mean)</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a><span class="co"># Plotar a sobreposição</span></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a><span class="fu">plot</span>(overlayed_mux, <span class="at">col =</span> <span class="fu">gray.colors</span>(<span class="dv">256</span>))</span></code></pre></div>
<p><img src="cap09_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># Substituir a componente de intensidade pela imagem PAN</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>franca_mux_ihs[[<span class="dv">4</span>]] <span class="ot">&lt;-</span> franca_pan</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a><span class="fu">names</span>(franca_mux_ihs)[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="st">&quot;intensidade&quot;</span></span></code></pre></div>
<ul>
<li><em>intensidade &lt;- list(franca_pan)</em>: Aqui, criamos uma lista contendo a imagem pancromática.</li>
<li><em>names(intensidade) &lt;- “intensidade”</em> : Definimos o nome da lista como “intensidade”, para indicar que esta será a componente de intensidade na composição IHS.</li>
<li><em>franca_mux_ihs &lt;- stack(franca_mux_ihs, intensidade)</em>: Adicionamos a lista contendo a imagem pancromática à pilha de camadas raster franca_mux_ihs, substituindo assim a componente de intensidade pela imagem pancromática.</li>
</ul>
<p>Para verificar se a intensidade da banda PAN foi corretamente adicionada à pilha de camadas raster franca_mux_ihs, podemos inspecionar a estrutura da pilha de camadas raster para garantir que a imagem pancromática esteja presente como a última camada, representando a componente de intensidade. Podemos usar a função <em>names()</em> para verificar os nomes das camadas na pilha e <em>nlayers()</em> para verificar o número total de camadas. Além disso, podemos usar <em>values()</em> para examinar os valores das camadas.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="co"># Verificar os nomes das camadas na pilha</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="fu">names</span>(franca_mux_ihs)</span></code></pre></div>
<pre><code>## [1] &quot;franca_mux_banda5&quot; &quot;franca_mux_banda6&quot; &quot;franca_mux_banda7&quot;
## [4] &quot;intensidade&quot;</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="co"># Verificar o número total de camadas na pilha</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="fu">nlayers</span>(franca_mux_ihs)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Esta linha plota a composição colorida do espaço IHS, onde a componente H (matiz) é representada pela primeira banda (vermelho), a componente S (saturação) é representada pela segunda banda (verde) e a componente I (intensidade) é representada pela terceira banda (azul). O argumento main define o título do gráfico.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># Plotar as imagens IHS</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="fu">plotRGB</span>(franca_mux_ihs, <span class="at">r =</span> <span class="dv">1</span>, <span class="at">g =</span> <span class="dv">2</span>, <span class="at">b =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="cap09_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Aqui vamos sobrepor as camadas em uma imagem única para podermos comparar o resultado da fusão de imagens pelo método IHS com as imagens MUX sobrepostas sem a fusão com a imagem PAN.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="co"># Sobrepor as camadas raster</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>overlayed_fusao_ihs <span class="ot">&lt;-</span> <span class="fu">overlay</span>(franca_mux_ihs, <span class="at">fun =</span> mean)</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="co"># Plotar a sobreposição</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a><span class="fu">plot</span>(overlayed_fusao_ihs, <span class="at">col =</span> <span class="fu">gray.colors</span>(<span class="dv">256</span>))</span></code></pre></div>
<p><img src="cap09_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>Com isso, finalizamos nossa prática de hoje. Nela carregamos as imagens MUX e PAN, analisamos as características das imagens para realizar o processo de fusão IHS. Utilizamos a imagem PAN para ajustar a resolução espacial das imagens MUX e visualizamos a imagem corrigida.</p>
<p><a href="index.html">Índice</a></p>
<p><a href="capítulo-08---correção-geométrica-e-registro-de-imagens.html">Capítulo 08 - Correção Geométrica e Registro de Imagens</a></p>
</div>
<div id="referências-bibliográficas" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> Referências Bibliográficas<a href="#referências-bibliográficas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>ANDERSON, E. C. Making Maps with R Â: Reproducible Research. GitHub, 2021. Disponível em: <a href="https://eriqande.github.io/rep-res-web/lectures/making-maps-with-R.html" class="uri">https://eriqande.github.io/rep-res-web/lectures/making-maps-with-R.html</a>.</p>
<p>CHAMBERS, J. M. Extending R. CRC Press, 364p., 2017. ISBN: 9781498775724.</p>
<p>DA SILVA, F. R.; GONÇALVES-SOUZA, T.; PATERNO, G. B.; PROVETE, D. B.; VANCINE, M. H. Análises ecológicas no R. Recife, PE: Nupeea, 1ª ed., 640p., 2022. ISBN: 9788579175640. Disponível em: <a href="https://analises-ecologicas.com/" class="uri">https://analises-ecologicas.com/</a>.</p>
<p>GAUTHIER, N. Anthromes 12K DGG (V1) analysis code and R research compendium. Harvard Dataverse, 2021. DOI: <a href="https://doi.org/10.7910/DVN/6FWPZ9" class="uri">https://doi.org/10.7910/DVN/6FWPZ9</a>.</p>
<p>LOVELACE, R. Introduction to visualizing spatial data in R. 2017. Disponível em:<a href="https://github.com/Robinlovelace/Creating-maps-in-R" class="uri">https://github.com/Robinlovelace/Creating-maps-in-R</a>.</p>
<p>LOVELACE, R., NOWOSAD, J., &amp; MUENCHOW, J. Geocomputation with R. Chapman and Hall/CRC, 353p., 2019. Disponível em: <a href="https://www.routledge.com/Geocomputation-withR/Lovelace-Nowosad-Muenchow/p/book/9780367670573" class="uri">https://www.routledge.com/Geocomputation-withR/Lovelace-Nowosad-Muenchow/p/book/9780367670573</a></p>
<p>MACHLIS, S. Create maps in R in 10 (fairly) easy steps. Computerworld, 2017. Disponível em: <a href="https://www.computerworld.com/article/3038270/create-maps-in-r-in-10-fairly-easy-steps.html" class="uri">https://www.computerworld.com/article/3038270/create-maps-in-r-in-10-fairly-easy-steps.html</a>.</p>
<p>MARTOS, G. Cluster Analysis with R. 2021. Disponível em: <a href="https://rstudio-pubsstatic.s3.amazonaws.com/33876_1d7794d9a86647ca90c4f182df93f0e8.html" class="uri">https://rstudio-pubsstatic.s3.amazonaws.com/33876_1d7794d9a86647ca90c4f182df93f0e8.html</a>.</p>
<p>MENESES, P. R.; ALMEIDA, T. D.; ROSA, A. N. D. C. S.; SANO, E. E. et al. Introdução ao Processamento de Imagens de Sensoriamento Remoto. Brasília: UnB-CNPq, 276 p., 2012.</p>
<p>MORENO, M. &amp; BASILLE, M. Drawing beautiful maps programmatically with R, sf and ggplot2 - Part 1: Basics. 2021. Disponível em: <a href="https://r-spatial.org/r/2018/10/25/ggplot2-sf.html" class="uri">https://r-spatial.org/r/2018/10/25/ggplot2-sf.html</a>.</p>
<p>MUENCHOW, J.; SCHRATZ, P.; BRENNING, A. RQGIS: Integrating R with QGIS for Statistical Geocomputing. The R Journal, 9, n. 2, p. 409-428, 2017 2017. Doi: <a href="https://doi.org/10.32614/RJ-2017-067" class="uri">https://doi.org/10.32614/RJ-2017-067</a>.</p>
<p>NOVIA, D. Cluster Analysis in R: Tips for Great Analysis and Visualization. Datanovia, 2018.Disponível em: <a href="https://www.datanovia.com/en/blog/cluster-analysis-in-r-simplified-and-enhanced/" class="uri">https://www.datanovia.com/en/blog/cluster-analysis-in-r-simplified-and-enhanced/</a>.</p>
<p>PEBESMA, E.; BIVAND, R. Spatial Data Science: With Applications in R. Chapman and Hall/CRC, 1ª ed., 314p., 2023. Doi: <a href="https://doi.org/10.1201/9780429459016" class="uri">https://doi.org/10.1201/9780429459016</a>.</p>
<p>R-BLOGGERS. Cluster Analysis in R. 2021. Disponível em: <a href="https://www.rbloggers.com/2021/04/cluster-analysis-in-r/" class="uri">https://www.rbloggers.com/2021/04/cluster-analysis-in-r/</a>.</p>
<p>STANIAK, M.; BIECEK, P. The Landscape of R Packages for Automated Exploratory Data Analysis. The R Journal, v. 11, n. 2, 23 p., 2019. Disponível em: <a href="https://arxiv.org/pdf/1904.02101" class="uri">https://arxiv.org/pdf/1904.02101</a>.</p>
<p>VENABLES, W. N.; SMITH, D. M. An Introduction to R. R Core Team, 2017. Disponível em: <a href="http://colinfay.me/intro-to-r/#" class="uri">http://colinfay.me/intro-to-r/#</a>.</p>
<p>WICKHAM, H. Advanced R. CRC Press, 2ª ed., 2022. Disponível em: <a href="https://advr.hadley.nz/#license" class="uri">https://advr.hadley.nz/#license</a></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
